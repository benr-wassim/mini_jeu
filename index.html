<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculatrice</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="calculator">
        <div class="display">
            <div id="previous-display"></div>
            <input type="text" id="current-display" disabled>
        </div>
        <div class="buttons">
            <button onclick="clearDisplay()" class="gray">AC</button>
            <button onclick="appendOperator('%')" class="gray">+/-</button>
            <button onclick="appendOperator('%')" class="gray">%</button>
            <button onclick="appendOperator('/')" class="orange">÷</button>

            <button onclick="appendNumber(7)" class="gray">7</button>
            <button onclick="appendNumber(8)" class="gray">8</button>
            <button onclick="appendNumber(9)" class="gray">9</button>
            <button onclick="appendOperator('*')" class="orange">×</button>

            <button onclick="appendNumber(4)" class="gray">4</button>
            <button onclick="appendNumber(5)" class="gray">5</button>
            <button onclick="appendNumber(6)" class="gray">6</button>
            <button onclick="appendOperator('-')" class="orange">−</button>

            <button onclick="appendNumber(1)" class="gray">1</button>
            <button onclick="appendNumber(2)" class="gray">2</button>
            <button onclick="appendNumber(3)" class="gray">3</button>
            <button onclick="appendOperator('+')" class="orange">+</button>

            <button onclick="appendNumber(0)" class="gray zero">0</button>
            <button onclick="appendNumber('.')" class="gray">,</button>
            <button onclick="calculate()" class="orange">=</button>
        </div>
    </div>

    <script>
        let previousDisplay = document.getElementById('previous-display');
        let currentDisplay = document.getElementById('current-display');

        function appendNumber(number) {
            currentDisplay.value += number;
        }

        function appendOperator(operator) {
            currentDisplay.value += " " + operator + " ";
        }

        function clearDisplay() {
            currentDisplay.value = '';
            previousDisplay.innerHTML = '';
        }

        function calculate() {
            try {
                previousDisplay.innerHTML = currentDisplay.value;
                currentDisplay.value = eval(currentDisplay.value.replace(/×/g, '*').replace(/÷/g, '/'));
            } catch {
                currentDisplay.value = "Erreur";
            }
        }
    </script>
</body>
</html>
